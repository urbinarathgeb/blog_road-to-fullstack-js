---
import ClassLayout from "@/layouts/ClassLayout.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const classes = await getCollection("classes");
  return classes.map((classItem) => ({
    params: { slug: classItem.slug },
    props: { classItem },
  }));
}

const { classItem } = Astro.props;
const { Content } = await classItem.render();
---

<ClassLayout
  title={classItem.data.title}
  description={classItem.data.description}
  date={classItem.data.date}
>
  <!-- <div class="mb-8 p-6 bg-cyber-black-light rounded neon-border">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div>
        <p class="text-cyber-pink font-bold mb-2">Week</p>
        <p class="text-lg">{classItem.data.week}</p>
      </div>
      <div>
        <p class="text-cyber-pink font-bold mb-2">Difficulty</p>
        <p class="text-lg capitalize">{classItem.data.difficulty}</p>
      </div>
      <div>
        <p class="text-cyber-pink font-bold mb-2">Duration</p>
        <p class="text-lg">{classItem.data.duration}</p>
      </div>
    </div>
  </div> -->

  <!-- {
    classItem.data.topics && (
      <div class="mb-8 p-6 bg-cyber-black-light rounded neon-border">
        <h3 class="text-xl font-bold mb-4">Topics Covered</h3>
        <div class="flex flex-wrap gap-2">
          {classItem.data.topics.map((topic: string) => (
            <span class="px-3 py-2 bg-cyber-pink text-cyber-black rounded font-bold">
              {topic}
            </span>
          ))}
        </div>
      </div>
    )
  } -->

  <div class="flex flex-wrap gap-2">
    {
      classItem.data.topics.map((topic: string) => (
        <span class="px-3 py-2 bg-cyber-pink text-cyber-black rounded font-bold">
          {topic}
        </span>
      ))
    }
  </div>

  <div class="prose-wrapper">
    <Content />
  </div>
</ClassLayout>
