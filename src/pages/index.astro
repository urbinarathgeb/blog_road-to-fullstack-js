---
import Layout from "@/layouts/Layout.astro";

import { getCollection, type CollectionEntry } from "astro:content";

const classes = await getCollection("classes");
const classesCount = classes.length;
type ClassEntry = CollectionEntry<"classes">;
---

<Layout>
  <section
    class="min-h-screen bg-cyber-black flex items-center justify-center px-4 sm:px-6 lg:px-8"
    style="background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 50%, #0a0e27 100%);"
  >
    <div class="max-w-4xl mx-auto text-center">
      <h1
        class="text-6xl sm:text-7xl font-bold mb-6 glitch"
        data-text="ROAD TO FULL STACK JS"
      >
        ROAD TO FULL STACK JS
      </h1>
      <!-- <p class="text-xl sm:text-2xl text-cyber-pink-light mb-8">
        Master Full-Stack JavaScript Development
      </p> -->
      <p
        class="text-base sm:text-lg text-gray-300 mb-12 leading-relaxed max-w-2xl mx-auto"
      >
        Resúmenes de clases, desafíos resueltos y las lecciones clave para
        dominar el desarrollo web moderno, desde el Front-End hasta el Back-End.
      </p>
      <a href="/classes" class="inline-block neon-button text-lg">
        Explora las {classesCount} clases →
      </a>
    </div>
  </section>

  <section class="py-16 bg-cyber-black-light">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2
        class="text-4xl font-bold text-center mb-12 glitch"
        data-text="ÚLTIMAS CLASES"
      >
        ÚLTIMAS CLASES
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {
          classes.slice(0, 3).map((classItem: ClassEntry) => (
            <a href={`/classes/${classItem.slug}`} class="group">
              <article class="neon-border p-6 rounded bg-cyber-black hover:bg-cyber-black-light transition-all duration-300 h-full">
                <h3 class="text-2xl font-bold mb-3 group-hover:text-cyber-pink-light transition-colors">
                  {classItem.data.title}
                </h3>
                <p class="text-cyber-pink-light mb-4">
                  {classItem.data.description}
                </p>
                <div class="flex gap-2 flex-wrap">
                  {classItem.data.topics?.slice(0, 3).map((topic: string) => (
                    <span class="text-xs px-2 py-1 bg-cyber-pink text-cyber-black rounded font-mono font-bold">
                      {topic}
                    </span>
                  ))}
                </div>
              </article>
            </a>
          ))
        }
      </div>
    </div>
  </section>
</Layout>
